Map=[".#..#..#..#...#..#...###....##.#....",
".#.........#.#....#...........####.#",
"#..##.##.#....#...#.#....#..........",
"......###..#.#...............#.....#",
"......#......#....#..##....##.......",
"....................#..............#",
"..#....##...#.....#..#..........#..#",
"..#.#.....#..#..#..#.#....#.###.##.#",
".........##.#..#.......#.........#..",
".##..#..##....#.#...#.#.####.....#..",
".##....#.#....#.......#......##....#",
"..#...#.#...##......#####..#......#.",
"##..#...#.....#...###..#..........#.",
"......##..#.##..#.....#.......##..#.",
"#..##..#..#.....#.#.####........#.#.",
"#......#..........###...#..#....##..",
".......#...#....#.##.#..##......#...",
".............##.......#.#.#..#...##.",
"..#..##...#...............#..#......",
"##....#...#.#....#..#.....##..##....",
".#...##...........#..#..............",
".............#....###...#.##....#.#.",
"#..#.#..#...#....#.....#............",
"....#.###....##....##...............",
"....#..........#..#..#.......#.#....",
"#..#....##.....#............#..#....",
"...##.............#...#.....#..###..",
"...#.......#........###.##..#..##.##",
".#.##.#...##..#.#........#.....#....",
"#......#....#......#....###.#.....#.",
"......#.##......#...#.#.##.##...#...",
"..#...#.#........#....#...........#.",
"......#.##..#..#.....#......##..#...",
"..##.........#......#..##.#.#.......",
".#....#..#....###..#....##..........",
"..............#....##...#.####...##."]
def tang(x,y):
  if y==0:
    return "!"
  return x/y

def cotang(x,y):
  if x==0:
    return "!"
  return y/x

class asteroid:
  def __init__(self, x, y):
    self.x = x
    self.y = y
    self.ats = 0
    self.tangs = list()
    self.mw = list()
    self.ml = list()
    

  def __repr__(self):
    return "x:"+str(self.x)+" y:"+str(self.y)+" ats:"+str(self.ats)

asters = list()
cy = 0
for line in Map:
  cx = 0
  for point in line:
    if point=="#":
      asters.append(asteroid(cx,cy))
    cx += 1
  cy += 1

answer=0

#blah bruteforce again I am disgusted with myself
for ast1 in asters:
  for ast2 in asters:
    mw = "+"
    ml = "+"
    width = ast2.x - ast1.x
    lenght = ast2.y - ast1.y
    if width < 0:
      mw = "-"
    if lenght < 0:
      ml = "-"
    tan = tang(width, lenght)
    if width==lenght==0:
      continue
    ok = True
    for i in range(len(ast1.tangs)):
      if str(tan) == ast1.tangs[i] and mw == ast1.mw[i] and ml == ast1.ml[i]:
        ok = False
        break
    if ok:
      ast1.tangs.append(str(tan))
      ast1.mw.append(mw)
      ast1.ml.append(ml)
      ast1.ats += 1
  print(ast1)
  if answer<ast1.ats:
    answer=ast1.ats
    ansast = ast1

print(answer)
print(ansast)
    

